const orders = [    {         id: '001',         amount: '5 items',         price: '$250.00',         payment: 'Credit Card',         status: 'Completed',         address: '123 Main St, New York, NY'     },    {         id: '002',         amount: '3 items',         price: '$180.00',         payment: 'PayPal',         status: 'Pending',         address: '456 Oak Ave, Los Angeles, CA'     },    {         id: '003',         amount: '8 items',         price: '$420.00',         payment: 'Credit Card',         status: 'Processing',         address: '789 Pine Rd, Chicago, IL'     },    {         id: '004',         amount: '2 items',         price: '$95.00',         payment: 'Cash',         status: 'Completed',         address: '321 Elm St, Houston, TX'     }];function getStatusClass(status) {    switch(status.toLowerCase()) {        case 'completed':            return 'status-completed';        case 'pending':            return 'status-pending';        case 'processing':            return 'status-processing';        case 'cancelled':            return 'status-cancelled';        default:            return '';    }}function createCheckIcon() {    return `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">        <polyline points="20 6 9 17 4 12"></polyline>    </svg>`;}function createXIcon() {    return `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">        <line x1="18" y1="6" x2="6" y2="18"></line>        <line x1="6" y1="6" x2="18" y2="18"></line>    </svg>`;}function renderOrders(ordersToRender) {    const tableBody = document.getElementById('tableBody');    tableBody.innerHTML = '';    ordersToRender.forEach(order => {        const row = document.createElement('div');        row.className = 'table-row';        row.innerHTML = `            <div class="order-id">${order.id}</div>            <div>${order.amount}</div>            <div>${order.price}</div>            <div>${order.payment}</div>            <div>                <span class="status-badge ${getStatusClass(order.status)}">                    ${order.status}                </span>            </div>            <div>${order.address}</div>            <div class="action-buttons">                <button class="action-btn check-btn" onclick="handleCheck(event, '${order.id}')">                    ${createCheckIcon()}                </button>                <button class="action-btn cancel-btn" onclick="handleCancel(event, '${order.id}')">                    ${createXIcon()}                </button>            </div>        `;        row.addEventListener('click', () => viewOrderDetails(order.id));        tableBody.appendChild(row);    });}function handleCheck(event, orderId) {    event.stopPropagation();    const o = orders.find(x => x.id === orderId);    if (o) {        o.status = 'Completed';        renderOrders(orders);        showNotification(`Order ${orderId} approved!`, 'success');    }}function handleCancel(event, orderId) {    event.stopPropagation();    if (!confirm(`Are you sure you want to cancel order ${orderId}?`)) return;    const o = orders.find(x => x.id === orderId);    if (o) {        o.status = 'Cancelled';        renderOrders(orders);        showNotification(`Order ${orderId} cancelled!`, 'error');    }}function showNotification(message, type) {    const notification = document.createElement('div');    notification.textContent = message;    notification.style.cssText = `position: fixed; top: 20px; right: 20px; padding: 12px 18px; background: ${type === 'success' ? '#4caf50' : '#f44336'}; color: #fff; border-radius: 8px; z-index: 9999; font-family: Inter, sans-serif;`;    document.body.appendChild(notification);    setTimeout(() => { notification.style.opacity = '0'; setTimeout(()=>notification.remove(),300); }, 1800);}async function viewOrderDetails(orderId) {    let modal = document.getElementById('cashierOrderModal');    if (!modal) {        modal = document.createElement('div');        modal.id = 'cashierOrderModal';        modal.className = 'order-modal';        modal.style.cssText = 'position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);z-index:10000;';        modal.innerHTML = `<div class="modal-card" style="background:#fff;padding:20px;border-radius:10px;max-width:720px;width:90%;max-height:80%;overflow:auto;color:#222;"><button id="closeOrderModal" style="float:right;">Close</button><div id="cashierOrderModalBody"></div></div>`;        document.body.appendChild(modal);        document.getElementById('closeOrderModal').addEventListener('click', () => modal.remove());    }    const body = document.getElementById('cashierOrderModalBody');    body.innerHTML = '<div style="padding:20px;color:#666;">Loading order details...</div>';    modal.style.display = 'flex';    try {        const encoded = encodeURIComponent(orderId);        const res = await fetch(`http://localhost:3001/api/orders/${encoded}`);        const json = await res.json().catch(()=>null);        if (!res.ok || !json || !json.ok) {            body.innerHTML = '<div style="padding:20px;color:#c00">Failed to load order details</div>';            return;        }        const d = json.data || {};        const ord = d.order || {};        const items = d.items || [];        body.innerHTML = `            <h3>Order ${ord.orderNumber || ord.orderId || orderId}</h3>            <div>Status: ${(ord.orderStatus||'').toString()}</div>            <div style="margin-top:10px">Items:<div>${items.length ? items.map(it=>`<div style="padding:8px;border-radius:8px;margin-top:6px;background:#f6f6f6;">${it.name} — qty ${it.quantity} — PHP ${it.unitPrice}</div>`).join('') : '<div style="color:#999">No items</div>'}</div>            <div style="margin-top:10px">Total: PHP ${Number(ord.totalAmount||0).toFixed(2)}</div>        `;    } catch(e) {        console.warn('Order fetch failed', e);        body.innerHTML = '<div style="padding:20px;color:#c00">Error loading order details</div>';    }}function handleSearch(searchTerm) {    const filteredOrders = orders.filter(order =>         order.id.toLowerCase().includes(searchTerm.toLowerCase()) ||        order.address.toLowerCase().includes(searchTerm.toLowerCase()) ||        order.payment.toLowerCase().includes(searchTerm.toLowerCase()) ||        order.status.toLowerCase().includes(searchTerm.toLowerCase())    );    renderOrders(filteredOrders);}document.addEventListener('DOMContentLoaded', function() {    renderOrders(orders);    const searchInput = document.getElementById('searchInput');    searchInput.addEventListener('input', (e) => {        handleSearch(e.target.value);    });    const navItems = document.querySelectorAll('.nav-item');    navItems.forEach(item => {        item.addEventListener('click', function() {            navItems.forEach(nav => nav.classList.remove('active'));            this.classList.add('active');            const target = this.getAttribute('data-target');            if (target) {                if (target.includes('Login')) {                    try { localStorage.removeItem('currentUser'); } catch(e){}                }                window.location.href = target;            }        });    });});if (typeof module !== 'undefined' && module.exports) {    module.exports = {        orders,        renderOrders,        handleCheck,        handleCancel,        handleSearch    };}
